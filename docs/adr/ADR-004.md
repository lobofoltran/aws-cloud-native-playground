# ADR-004: Use Managed Observability Services over Self-Hosted Stacks

## Status
Accepted

## Context

The AWS Cloud-Native Playground requires observability to be treated as a **first-class platform concern**, providing visibility into logs, metrics, and traces across services running on ECS and EKS.

Two primary approaches were considered:

1. **Self-hosted observability stacks**
   - Prometheus, Grafana, Loki, Jaeger managed by the team
2. **Managed observability services**
   - AWS CloudWatch
   - Amazon Managed Prometheus
   - Amazon Managed Grafana
   - OpenTelemetry for instrumentation

Given the project’s focus on **cloud-native managed services** and platform engineering principles, the operational model of observability is a key decision.

---

## Decision

The platform will prioritize **managed observability services** provided by AWS, complemented by **OpenTelemetry** for instrumentation.

Self-hosted observability components may be explored only for comparison or learning purposes, but they are not the default approach.

---

## Rationale

### Why Managed Observability

Managed observability services provide:

- Reduced operational overhead
- Built-in scalability and availability
- Native integration with AWS services
- Lower cognitive load for platform operation
- Faster time-to-insight

This aligns with the project’s principle of **avoiding infrastructure ownership** and focusing on **platform-level outcomes** rather than tool maintenance.

---

### Role of OpenTelemetry

OpenTelemetry is used to:

- Standardize metrics, logs, and traces
- Avoid vendor-specific instrumentation
- Enable portability between observability backends

Instrumentation remains application-level, while storage and visualization are managed.

---

## Consequences

### Positive
- Minimal maintenance effort
- Unified observability across ECS and EKS
- Faster setup and iteration
- Clear separation between instrumentation and storage

### Negative
- Vendor lock-in to AWS observability services
- Potentially higher cost compared to self-hosted solutions
- Less fine-grained control over internal components

These trade-offs are accepted in favor of **operational simplicity and consistency**.

---

## Alternatives Considered

### Self-Hosted Observability Stack

**Pros**
- Full control over configuration
- Potential cost savings at scale
- Tooling flexibility

**Cons**
- Significant operational burden
- Requires expertise in scaling and maintenance
- Distracts from platform goals

This approach was rejected as the default, as it conflicts with the project’s managed-service-first philosophy.

---

## Scope

This decision applies to:
- Logging
- Metrics collection
- Dashboards
- Alerting
- Distributed tracing backends

It does not prevent experimentation with self-hosted tools in isolated scenarios.

---

## Notes

This ADR reinforces the idea that **observability is a platform capability**, not an infrastructure project.

The platform favors **managed reliability and speed of feedback** over maximum configurability.
